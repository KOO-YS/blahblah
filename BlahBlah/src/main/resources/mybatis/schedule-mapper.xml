<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="calendar">
  	<resultMap type="calendarVo" id="calendarMap">
  		<result property="memberId" column="MEMBER_ID" />
  		<result property="lessonNo" column="LESSON_NO" />
  		<result property="lessonName" column="LESSON_NAME" />
  		<result property="lessonTime" column="LESSON_TIME" />
  		<result property="tutorId" column="TUTOR_ID" />
  		<result property="myclassDate1" column="MYCLASS_DATE1" />
  		<result property="myclassDate2" column="MYCLASS_DATE2" />
  		<result property="myclassDate3" column="MYCLASS_DATE3" />
  		<result property="myclassDate4" column="MYCLASS_DATE4" />
  	</resultMap>
  	
  	<select id="selectCalendar" resultMap="calendarMap">
  		SELECT M.MEMBER_ID, C.LESSON_NO, L.LESSON_NAME, L.LESSON_TIME, L.TUTOR_ID,  C.MYCLASS_DATE1, C.MYCLASS_DATE2, C.MYCLASS_DATE3, C.MYCLASS_DATE4
  		FROM MEMBER M, LESSON L, MYCLASS C
  		WHERE M.MEMBER_ID = C.MEMBER_ID AND L.LESSON_NO = C.LESSON_NO AND M.MEMBER_ID = #{memberId}
  	</select>
  	
  	<select id="selectTutorCalendar" resultMap="calendarMap">
	  	SELECT C.MEMBER_ID, L.LESSON_NO, L.LESSON_NAME, L.LESSON_TIME, L.TUTOR_ID, C.MYCLASS_DATE1, C.MYCLASS_DATE2, C.MYCLASS_DATE3, C.MYCLASS_DATE4
		FROM LESSON L, MYCLASS C
		WHERE L.LESSON_NO = C.LESSON_NO AND L.TUTOR_ID = #{tutorId}
  	</select>
</mapper>